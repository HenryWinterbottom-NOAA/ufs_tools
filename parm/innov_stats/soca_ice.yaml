# $$$ YAML DOCUMENTATION BLOCK

# UFS-RNR-containers :: innov_stats/demo/soca_ice.yaml
# Copyright (C) 2020 Henry R. Winterbottom

# Email: henry.winterbottom@noaa.gov

# DESCRIPTION:

# This YAML formatted file contains the user attributes required to
# perform the respective application innovation statistics
# diagnostics; this configuration is specific to the SOCA ice
# application.

#----

# Define the innovation statistics application; the following are
# currently supportted.

# gsi_atmos: Gridpoint Statistical Interpolation (GSI) atmosphere
#            innovation statistics.

# soca_ocean: Sea-ice and Ocean Analysis (SOCA) ocean innovation
#             statistics.

# soca_ice: Sea-ice and Ocean Analysis (SOCA) ice innovation
#           statistics.
innov_stats_app: soca_ice

#----

# Define the experiment name.
expt_name: !ENV ${EXPTNAME}

# Define the forecast/analysis cycle; format is %Y%m%d%H%M%S assuming
# the UNIX POSIX convention.
cycle: !ENV ${CYCLE}

#----

# Define the geographical regions for observation binning.
regions:

     # Global region.
     global:
          
          # Define the northern most latitudinal boundary for the
          # respective region of interest; units are degrees.
          lat_max: 90.0

          # Define the southern most latitudinal boundary for the
          # respective region of interest; units are degrees.
          lat_min: -90.0     
     
     # Northern hemisphere polar region
     north_pole:

          # Define the northern most latitudinal boundary for the
          # respective region of interest; units are degrees.
          lat_max: 90.0

          # Define the southern most latitudinal boundary for the
          # respective region of interest; units are degrees.
          lat_min: 60.0
                  
     # Southern hemisphere polar region.
     south_pole:

          # Define the northern most latitudinal boundary for the
          # respective region of interest; units are degrees.
          lat_max: -60.0

          # Define the southern most latitudinal boundary for the
          # respective region of interest; units are degrees.
          lat_min: -90.0
          
#----

# Define the observation diagnostics file information; POSIX compliant
# time-stamp templating is permitted.
diagsinfo:

     # Define the ice area fraction variable observation diagnostics
     # information.
     ice_area_fraction:

          # Define the input SOCA netCDF filename; POSIX compliant
          # time-stamp templating is permitted.
          ncinfile: innov_stats_demo/icec_ssmi_emc.SOCA.3dvar.%Y%m%d%H%M%S.nc, innov_stats_demo/icec_ssmi_emc_285_286.SOCA.3dvar.%Y%m%d%H%M%S.nc

          # Define the netCDF filename to contain the output
          # innovation variable fields; POSIX compliant time-stamp
          # templating is permitted.
          ncoutfile: ./outputs/innov_stats.ice_area_fraction.%Y%m%d%H%M%S.nc
          
          # Define the time offset, if applicable, for the netCDF file
          # timestamp; units are seconds.
          offset_seconds: 21600

          # Define the netCDF file variable attributes.
          ncinfo:
               
               # Define the netCDF file latitude variable name.
               nclat: latitude@MetaData

               # Define the netCDF file longitude variable name.
               nclon: longitude@MetaData

               # Define the netCDF file observation minus first-guess
               # (e.g., OMF) variable name.
               ncomf: sea_ice_area_fraction@ombg

               # Define the netCDF file variable name specifying valid
               # observations.
               ncqc: sea_ice_area_fraction@EffectiveQC0

          # Define the SQLite3 database filename to contain the
          # innovation statistics attributes for the respective
          # variable.
          database_sql_path: ./outputs/soca_ice.ice_area_fraction.sql

     # Define the ice freeboard (i.e., thickness) variable observation
     # diagnostics information.
     ice_thickness:

          # Define the input SOCA netCDF filename; POSIX compliant
          # time-stamp templating is permitted.
          ncinfile: innov_stats_demo/icefb_cryosat_esa_l2.SOCA.3dvar.20190506120000.nc

          # Define the netCDF filename to contain the output
          # innovation variable fields; POSIX compliant time-stamp
          # templating is permitted.
          ncoutfile: ./outputs/innov_stats.ice_thickness.%Y%m%d%H%M%S.nc
          
          # Define the time offset, if applicable, for the netCDF file
          # timestamp; units are seconds.
          offset_seconds: 21600

          # Define the netCDF file variable attributes.
          ncinfo:
               
               # Define the netCDF file latitude variable name.
               nclat: latitude@MetaData

               # Define the netCDF file longitude variable name.
               nclon: longitude@MetaData

               # Define the netCDF file observation minus first-guess
               # (e.g., OMF) variable name.
               ncomf: sea_ice_freeboard@ombg

               # Define the netCDF file variable name specifying valid
               # observations.
               ncqc: sea_ice_freeboard@EffectiveQC0

          # Define the SQLite3 database filename to contain the
          # innovation statistics attributes for the respective
          # variable.
          database_sql_path: ./outputs/soca_ice.ice_thickness.sql          


